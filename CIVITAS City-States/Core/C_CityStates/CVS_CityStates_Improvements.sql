--=====
--TYPES
--=====
INSERT INTO Types (Type, Kind)
	VALUES
		('CVS_IMPROVEMENT_GREAT_KIVA', 'KIND_IMPROVEMENT'),
		('CVS_IMPROVEMENT_STUPA', 'KIND_IMPROVEMENT');

--=============
--IMPROVEMENTS
--=============
INSERT INTO Improvements (ImprovementType, Name, Description, Icon, PlunderType, PlunderAmount, Buildable, TraitType, SameAdjacentValid, Appeal)
	VALUES
		('CVS_IMPROVEMENT_GREAT_KIVA', 'LOC_CVS_IMPROVEMENT_GREAT_KIVA_NAME', 'LOC_CVS_IMPROVEMENT_GREAT_KIVA_DESCRIPTION', 'ICON_CVS_IMPROVEMENT_GREAT_KIVA', 'PLUNDER_FAITH', 25, 1, 'CVS_MINOR_CIV_CHETRO_KETL_TRAIT', 0, 1),
		('CVS_IMPROVEMENT_STUPA', 'LOC_CVS_IMPROVEMENT_STUPA_NAME', 'LOC_CVS_IMPROVEMENT_STUPA_DESCRIPTION', 'ICON_CVS_IMPROVEMENT_STUPA', 'PLUNDER_GOLD', 25, 1, 'CVS_MINOR_CIV_ANURADHAPURA_TRAIT', 0, 1);

INSERT INTO Improvement_Adjacencies (ImprovementType, YieldChangeId)
	VALUES
		('CVS_IMPROVEMENT_GREAT_KIVA', 'CVS_GreatKiva_DesertProduction'),
		('CVS_IMPROVEMENT_GREAT_KIVA', 'CVS_GreatKiva_PlainsProduction'),
		('CVS_IMPROVEMENT_GREAT_KIVA', 'CVS_GreatKiva_GrassProduction'),
		('CVS_IMPROVEMENT_GREAT_KIVA', 'CVS_GreatKiva_DesertHillsFood'),
		('CVS_IMPROVEMENT_GREAT_KIVA', 'CVS_GreatKiva_PlainsHillsFood'),
		('CVS_IMPROVEMENT_GREAT_KIVA', 'CVS_GreatKiva_GrassHillsFood');

INSERT INTO Improvement_ValidTerrains (ImprovementType, TerrainType)
	VALUES
		('CVS_IMPROVEMENT_GREAT_KIVA', 'TERRAIN_DESERT'),
		('CVS_IMPROVEMENT_GREAT_KIVA', 'TERRAIN_DESERT_HILLS'),
		('CVS_IMPROVEMENT_STUPA', 'TERRAIN_PLAINS'),
		('CVS_IMPROVEMENT_STUPA', 'TERRAIN_GRASS'),
		('CVS_IMPROVEMENT_STUPA', 'TERRAIN_PLAINS_HILLS'),
		('CVS_IMPROVEMENT_STUPA', 'TERRAIN_GRASS_HILLS');

INSERT INTO Improvement_ValidBuildUnits (ImprovementType, UnitType)
	VALUES
		('CVS_IMPROVEMENT_GREAT_KIVA', 'UNIT_BUILDER'),
		('CVS_IMPROVEMENT_STUPA', 'UNIT_BUILDER');

INSERT INTO Improvement_YieldChanges (ImprovementType, YieldType, YieldChange)
	VALUES
		('CVS_IMPROVEMENT_GREAT_KIVA', 'YIELD_FOOD', 0),
		('CVS_IMPROVEMENT_GREAT_KIVA', 'YIELD_PRODUCTION', 0),
		('CVS_IMPROVEMENT_GREAT_KIVA', 'YIELD_FAITH', 2),
		('CVS_IMPROVEMENT_STUPA', 'YIELD_CULTURE', 0),
		('CVS_IMPROVEMENT_STUPA', 'YIELD_SCIENCE', 0),
		('CVS_IMPROVEMENT_STUPA', 'YIELD_FAITH', 2);

INSERT INTO Improvement_Tourism (ImprovementType, TourismSource, PrereqTech, ScalingFactor)
	VALUES
		('CVS_IMPROVEMENT_STUPA', 'TOURISMSOURCE_CULTURE', 'TECH_FLIGHT', 100);

INSERT INTO Adjacency_YieldChanges (ID, Description, YieldType, YieldChange, TilesRequired, AdjacentTerrain, AdjacentImprovement)
	VALUES
		('CVS_GreatKiva_PlainsProduction', 'Placeholder', 'YIELD_PRODUCTION', 1, 2, 'TERRAIN_PLAINS', NULL),
		('CVS_GreatKiva_GrassProduction', 'Placeholder', 'YIELD_PRODUCTION', 1, 2, 'TERRAIN_DESERT', NULL),
		('CVS_GreatKiva_DesertProduction', 'Placeholder', 'YIELD_PRODUCTION', 1, 2, 'TERRAIN_GRASS', NULL),
		('CVS_GreatKiva_PlainsHillsFood', 'Placeholder', 'YIELD_FOOD', 1, 1, 'TERRAIN_PLAINS_HILLS', NULL),
		('CVS_GreatKiva_GrassHillsFood', 'Placeholder', 'YIELD_FOOD', 1, 1, 'TERRAIN_GRASS_HILLS', NULL),
		('CVS_GreatKiva_DesertHillsFood', 'Placeholder', 'YIELD_FOOD', 1, 1, 'TERRAIN_DESERT_HILLS', NULL);

--=========
--MODIFIERS
--=========
INSERT INTO ImprovementModifiers
				(ImprovementType, 					ModifierId)
VALUES	('IMPROVEMENT_PASTURE', 		'CVS_LEATHER_RESOURCE_PASTURE_HOUSING_MODIFIER'),
				('CVS_IMPROVEMENT_STUPA', 	'CVS_STUPA_CAMPUS_ADJACENCY_SCIENCE'),
				('CVS_IMPROVEMENT_STUPA', 	'CVS_STUPA_HOLY_SITE_ADJACENCY_FAITH'),
				('CVS_IMPROVEMENT_STUPA', 	'CVS_STUPA_THEATER_ADJACENCY_CULTURE');

INSERT INTO Modifiers
				(ModifierId, 																			ModifierType, 																		OwnerRequirementSetId, SubjectRequirementSetId)	
VALUES	('CVS_LEATHER_RESOURCE_PASTURE_HOUSING_MODIFIER', 	'MODIFIER_SINGLE_CITY_ADJUST_IMPROVEMENT_HOUSING', 	'CVS_CITYSTATE_PLAYER_OWNS_CVS_RESOURCE_LEATHER_REQUIREMENTSET', NULL),
				('CVS_STUPA_CAMPUS_ADJACENCY_SCIENCE',						'MODIFIER_SINGLE_PLOT_ADJUST_PLOT_YIELDS',					NULL,	'CVS_STUPA_ADJACENT_TO_CAMPUS_REQUIREMENTSET'),
				('CVS_STUPA_HOLY_SITE_ADJACENCY_FAITH',						'MODIFIER_SINGLE_PLOT_ADJUST_PLOT_YIELDS',					NULL,	'CVS_STUPA_ADJACENT_TO_HOLY_SITE_REQUIREMENTSET'),
				('CVS_STUPA_THEATER_ADJACENCY_CULTURE',						'MODIFIER_SINGLE_PLOT_ADJUST_PLOT_YIELDS',					NULL,	'CVS_STUPA_ADJACENT_TO_THEATER_REQUIREMENTSET');

INSERT INTO ModifierArguments
				(ModifierId, 																			Name, 			Value)
VALUES	('CVS_LEATHER_RESOURCE_PASTURE_HOUSING_MODIFIER', 	'Amount', 		1),
				('CVS_STUPA_CAMPUS_ADJACENCY_SCIENCE', 						'YieldType', 	'YIELD_SCIENCE'),
				('CVS_STUPA_CAMPUS_ADJACENCY_SCIENCE', 						'Amount', 		2),
				('CVS_STUPA_HOLY_SITE_ADJACENCY_FAITH', 						'YieldType', 	'YIELD_FAITH'),
				('CVS_STUPA_HOLY_SITE_ADJACENCY_FAITH', 						'Amount', 		2),
				('CVS_STUPA_THEATER_ADJACENCY_CULTURE', 						'YieldType', 	'YIELD_CULTURE'),
				('CVS_STUPA_THEATER_ADJACENCY_CULTURE', 						'Amount', 		2);

--============
--REQUIREMENTS
--============
INSERT INTO RequirementSets 
				(RequirementSetId, 																						RequirementSetType)
VALUES	('CVS_STUPA_ADJACENT_TO_CAMPUS_REQUIREMENTSET', 								'REQUIREMENTSET_TEST_ANY'),
				('CVS_STUPA_ADJACENT_TO_HOLY_SITE_REQUIREMENTSET', 							'REQUIREMENTSET_TEST_ANY'),
				('CVS_STUPA_ADJACENT_TO_THEATER_REQUIREMENTSET', 							'REQUIREMENTSET_TEST_ANY');
		
INSERT INTO RequirementSetRequirements 
				(RequirementSetId, 																						RequirementId)
VALUES	('CVS_STUPA_ADJACENT_TO_CAMPUS_REQUIREMENTSET', 								'CVS_STUPA_REQUIRES_ADJACENT_DISTRICT_IS_CAMPUS'),
				('CVS_STUPA_ADJACENT_TO_HOLY_SITE_REQUIREMENTSET', 							'CVS_STUPA_REQUIRES_ADJACENT_DISTRICT_IS_HOLY_SITE'),
				('CVS_STUPA_ADJACENT_TO_THEATER_REQUIREMENTSET', 							'CVS_STUPA_REQUIRES_ADJACENT_DISTRICT_IS_THEATER');

INSERT INTO Requirements 
				(RequirementId, 																							RequirementType)
VALUES	('CVS_STUPA_REQUIRES_ADJACENT_DISTRICT_IS_CAMPUS', 							'REQUIREMENT_PLOT_ADJACENT_DISTRICT_TYPE_MATCHES'),
				('CVS_STUPA_REQUIRES_ADJACENT_DISTRICT_IS_HOLY_SITE', 						'REQUIREMENT_PLOT_ADJACENT_DISTRICT_TYPE_MATCHES'),
				('CVS_STUPA_REQUIRES_ADJACENT_DISTRICT_IS_THEATER', 						'REQUIREMENT_PLOT_ADJACENT_DISTRICT_TYPE_MATCHES');

INSERT INTO RequirementArguments 
				(RequirementId, 																							Name, 						Value)
VALUES	('CVS_STUPA_REQUIRES_ADJACENT_DISTRICT_IS_CAMPUS', 							'DistrictType', 			'DISTRICT_CAMPUS'),
				('CVS_STUPA_REQUIRES_ADJACENT_DISTRICT_IS_HOLY_SITE', 						'DistrictType', 			'DISTRICT_HOLY_SITE'),
				('CVS_STUPA_REQUIRES_ADJACENT_DISTRICT_IS_THEATER', 						'DistrictType', 			'DISTRICT_THEATER');

--REQUIREMENTSETREQUIREMENTS SELECT STATEMENTS
INSERT INTO RequirementSetRequirements
				(RequirementSetId,																			RequirementId)
SELECT	'CVS_STUPA_ADJACENT_TO_CAMPUS_REQUIREMENTSET',			'CVS_STUPA_REQUIRES_ADJACENT_DISTRICT_IS_'||CivUniqueDistrictType
FROM DistrictReplaces
WHERE ReplacesDistrictType = 'DISTRICT_CAMPUS';
INSERT INTO RequirementSetRequirements
				(RequirementSetId,																			RequirementId)
SELECT	'CVS_STUPA_ADJACENT_TO_HOLY_SITE_REQUIREMENTSET',			'CVS_STUPA_REQUIRES_ADJACENT_DISTRICT_IS_'||CivUniqueDistrictType
FROM DistrictReplaces
WHERE ReplacesDistrictType = 'DISTRICT_HOLY_SITE';
INSERT INTO RequirementSetRequirements
				(RequirementSetId,																			RequirementId)
SELECT	'CVS_STUPA_ADJACENT_TO_THEATER_REQUIREMENTSET',			'CVS_STUPA_REQUIRES_ADJACENT_DISTRICT_IS_'||CivUniqueDistrictType
FROM DistrictReplaces
WHERE ReplacesDistrictType = 'DISTRICT_THEATER';

--REQUIREMENTS SELECT STATEMENTS
INSERT INTO Requirements
				(RequirementId,																							RequirementType)
SELECT	'CVS_STUPA_REQUIRES_ADJACENT_DISTRICT_IS_'||CivUniqueDistrictType,		'REQUIREMENT_PLOT_ADJACENT_DISTRICT_TYPE_MATCHES'
FROM DistrictReplaces
WHERE ReplacesDistrictType = 'DISTRICT_HOLY_SITE'
OR ReplacesDistrictType = 'DISTRICT_CAMPUS'
OR ReplacesDistrictType = 'DISTRICT_THEATER';

--REQUIREMENTARGUMENTS SELECT STATEMENTS				
INSERT INTO RequirementArguments
(RequirementId,																										Name,				Value)
SELECT	'CVS_STUPA_REQUIRES_ADJACENT_DISTRICT_IS_'||CivUniqueDistrictType,	'DistrictType',	CivUniqueDistrictType
FROM DistrictReplaces
WHERE ReplacesDistrictType = 'DISTRICT_HOLY_SITE'
OR ReplacesDistrictType = 'DISTRICT_CAMPUS'
OR ReplacesDistrictType = 'DISTRICT_THEATER';

--TRIGGERS INCLUDED IN CVS_CityStates_Civilizations.sql