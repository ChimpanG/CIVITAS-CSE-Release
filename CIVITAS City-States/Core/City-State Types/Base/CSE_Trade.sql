/*
	Trade
	Authors: ChimpanG
*/

-----------------------------------------------
-- CSE_ClassTypes
-----------------------------------------------

UPDATE	CSE_ClassTypes
SET		MediumBonus = 'LOC_CSE_TRADE_TRAIT_MEDIUM_INFLUENCE_BONUS_ALT',
		LargeBonus = 'LOC_CSE_TRADE_TRAIT_LARGE_INFLUENCE_BONUS_ALT',
		LargestBonus = 'LOC_CSE_TRADE_TRAIT_LARGEST_INFLUENCE_BONUS_ALT'
WHERE	Type IN ('TRADE')
AND EXISTS (SELECT * FROM ModValidation WHERE Version IN ('CSE_MARITIME'));

-----------------------------------------------
-- TraitModifiers
-----------------------------------------------

DELETE FROM TraitModifiers
WHERE TraitType
IN (
	'MINOR_CIV_TRADE_TRAIT'
);

INSERT INTO TraitModifiers 
		(TraitType, 				ModifierId									)
VALUES	('MINOR_CIV_TRADE_TRAIT',	'MODIFIER_CSE_TRADE_SEND_TRADE_BONUS'		),
		('MINOR_CIV_TRADE_TRAIT',	'MODIFIER_CSE_TRADE_CAPITAL_GOLD'			),
		('MINOR_CIV_TRADE_TRAIT',	'MODIFIER_CSE_TRADE_MARKET_GOLD'			),
		('MINOR_CIV_TRADE_TRAIT',	'MODIFIER_CSE_TRADE_BANK_GOLD'				),
		('MINOR_CIV_TRADE_TRAIT',	'MODIFIER_CSE_TRADE_STOCK_EXCHANGE_GOLD'	);

INSERT INTO TraitModifiers (TraitType, ModifierId)
SELECT	'MINOR_CIV_TRADE_TRAIT',
		'MODIFIER_CSE_TRADE_LIGHTHOUSE_GOLD'
WHERE NOT EXISTS (SELECT * FROM ModValidation WHERE Version = 'CSE_MARITIME');

INSERT INTO TraitModifiers (TraitType, ModifierId)
SELECT	'MINOR_CIV_TRADE_TRAIT',
		'MODIFIER_CSE_TRADE_SHIPYARD_GOLD'
WHERE NOT EXISTS (SELECT * FROM ModValidation WHERE Version = 'CSE_MARITIME');

INSERT INTO TraitModifiers (TraitType, ModifierId)
SELECT	'MINOR_CIV_TRADE_TRAIT',
		'MODIFIER_CSE_TRADE_SEAPORT_GOLD'
WHERE NOT EXISTS (SELECT * FROM ModValidation WHERE Version = 'CSE_MARITIME');

-----------------------------------------------
-- Modifiers
-----------------------------------------------

INSERT INTO Modifiers 
		(ModifierId,									ModifierType,													SubjectRequirementSetId			)
VALUES	('MODIFIER_CSE_TRADE_SEND_TRADE_BONUS',			'MODIFIER_PLAYER_CITIES_ADJUST_TRADE_ROUTE_YIELD_TO_OTHERS',	NULL							),
		('MODIFIER_CSE_TRADE_CAPITAL_GOLD',				'MODIFIER_ALL_PLAYERS_ATTACH_MODIFIER',							'PLAYER_HAS_SMALL_INFLUENCE'	),
		('MODIFIER_CSE_TRADE_CAPITAL_GOLD_MOD',			'MODIFIER_PLAYER_CAPITAL_CITY_ADJUST_CITY_YIELD_CHANGE',		NULL							),
		('MODIFIER_CSE_TRADE_MARKET_GOLD',				'MODIFIER_ALL_PLAYERS_ATTACH_MODIFIER',							'PLAYER_HAS_MEDIUM_INFLUENCE'	),
		('MODIFIER_CSE_TRADE_MARKET_GOLD_MOD',			'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE',			NULL							),
		('MODIFIER_CSE_TRADE_BANK_GOLD',				'MODIFIER_ALL_PLAYERS_ATTACH_MODIFIER',							'PLAYER_HAS_LARGE_INFLUENCE'	),
		('MODIFIER_CSE_TRADE_BANK_GOLD_MOD',			'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE',			NULL							),
		('MODIFIER_CSE_TRADE_STOCK_EXCHANGE_GOLD',		'MODIFIER_ALL_PLAYERS_ATTACH_MODIFIER',							'PLAYER_HAS_LARGEST_INFLUENCE'	),
		('MODIFIER_CSE_TRADE_STOCK_EXCHANGE_GOLD_MOD',	'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE',			NULL							),
		('MODIFIER_CSE_TRADE_LIGHTHOUSE_GOLD',			'MODIFIER_ALL_PLAYERS_ATTACH_MODIFIER',							'PLAYER_HAS_MEDIUM_INFLUENCE'	),
		('MODIFIER_CSE_TRADE_LIGHTHOUSE_GOLD_MOD',		'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE',			NULL							),
		('MODIFIER_CSE_TRADE_SHIPYARD_GOLD',			'MODIFIER_ALL_PLAYERS_ATTACH_MODIFIER',							'PLAYER_HAS_LARGE_INFLUENCE'	),
		('MODIFIER_CSE_TRADE_SHIPYARD_GOLD_MOD',		'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE',			NULL							),
		('MODIFIER_CSE_TRADE_SEAPORT_GOLD',				'MODIFIER_ALL_PLAYERS_ATTACH_MODIFIER',							'PLAYER_HAS_LARGEST_INFLUENCE'	),
		('MODIFIER_CSE_TRADE_SEAPORT_GOLD_MOD',			'MODIFIER_PLAYER_CITIES_ADJUST_BUILDING_YIELD_CHANGE',			NULL							);

-----------------------------------------------
-- ModifierArguments
-----------------------------------------------

INSERT INTO ModifierArguments
		(ModifierId,									Name,				Value											)
VALUES	('MODIFIER_CSE_TRADE_SEND_TRADE_BONUS',			'YieldType',		'YIELD_GOLD'									),
		('MODIFIER_CSE_TRADE_SEND_TRADE_BONUS',			'Amount',			2												),
		('MODIFIER_CSE_TRADE_CAPITAL_GOLD',				'ModifierId',		'MODIFIER_CSE_TRADE_CAPITAL_GOLD_MOD'			),
		('MODIFIER_CSE_TRADE_CAPITAL_GOLD_MOD',			'YieldType',		'YIELD_GOLD'									),
		('MODIFIER_CSE_TRADE_CAPITAL_GOLD_MOD',			'Amount',			4												),

		('MODIFIER_CSE_TRADE_MARKET_GOLD',				'ModifierId',		'MODIFIER_CSE_TRADE_MARKET_GOLD_MOD'			),
		('MODIFIER_CSE_TRADE_MARKET_GOLD_MOD',			'BuildingType',		'BUILDING_MARKET'								),
		('MODIFIER_CSE_TRADE_MARKET_GOLD_MOD',			'YieldType',		'YIELD_GOLD'									),
		('MODIFIER_CSE_TRADE_MARKET_GOLD_MOD',			'Amount',			4												),
		('MODIFIER_CSE_TRADE_MARKET_GOLD_MOD',			'CityStatesOnly',	1												),

		('MODIFIER_CSE_TRADE_LIGHTHOUSE_GOLD',			'ModifierId',		'MODIFIER_CSE_TRADE_LIGHTHOUSE_GOLD_MOD'		),
		('MODIFIER_CSE_TRADE_LIGHTHOUSE_GOLD_MOD',		'BuildingType',		'BUILDING_LIGHTHOUSE'							),
		('MODIFIER_CSE_TRADE_LIGHTHOUSE_GOLD_MOD',		'YieldType',		'YIELD_GOLD'									),
		('MODIFIER_CSE_TRADE_LIGHTHOUSE_GOLD_MOD',		'Amount',			4												),
		('MODIFIER_CSE_TRADE_LIGHTHOUSE_GOLD_MOD',		'CityStatesOnly',	1												),

		('MODIFIER_CSE_TRADE_BANK_GOLD',				'ModifierId',		'MODIFIER_CSE_TRADE_BANK_GOLD_MOD'				),
		('MODIFIER_CSE_TRADE_BANK_GOLD_MOD',			'BuildingType',		'BUILDING_BANK'									),
		('MODIFIER_CSE_TRADE_BANK_GOLD_MOD',			'YieldType',		'YIELD_GOLD'									),
		('MODIFIER_CSE_TRADE_BANK_GOLD_MOD',			'Amount',			4												),
		('MODIFIER_CSE_TRADE_BANK_GOLD_MOD',			'CityStatesOnly',	1												),

		('MODIFIER_CSE_TRADE_SHIPYARD_GOLD',			'ModifierId',		'MODIFIER_CSE_TRADE_SHIPYARD_GOLD_MOD'			),
		('MODIFIER_CSE_TRADE_SHIPYARD_GOLD_MOD',		'BuildingType',		'BUILDING_BANK'									),
		('MODIFIER_CSE_TRADE_SHIPYARD_GOLD_MOD',		'YieldType',		'YIELD_GOLD'									),
		('MODIFIER_CSE_TRADE_SHIPYARD_GOLD_MOD',		'Amount',			4												),
		('MODIFIER_CSE_TRADE_SHIPYARD_GOLD_MOD',		'CityStatesOnly',	1												),

		('MODIFIER_CSE_TRADE_STOCK_EXCHANGE_GOLD',		'ModifierId',		'MODIFIER_CSE_TRADE_STOCK_EXCHANGE_GOLD_MOD'	),
		('MODIFIER_CSE_TRADE_STOCK_EXCHANGE_GOLD_MOD',	'BuildingType',		'BUILDING_STOCK_EXCHANGE'						),
		('MODIFIER_CSE_TRADE_STOCK_EXCHANGE_GOLD_MOD',	'YieldType',		'YIELD_GOLD'									),
		('MODIFIER_CSE_TRADE_STOCK_EXCHANGE_GOLD_MOD',	'Amount',			4												),
		('MODIFIER_CSE_TRADE_STOCK_EXCHANGE_GOLD_MOD',	'CityStatesOnly',	1												),

		('MODIFIER_CSE_TRADE_SEAPORT_GOLD',				'ModifierId',		'MODIFIER_CSE_TRADE_SEAPORT_GOLD_MOD'			),
		('MODIFIER_CSE_TRADE_SEAPORT_GOLD_MOD',			'BuildingType',		'BUILDING_SEAPORT'								),
		('MODIFIER_CSE_TRADE_SEAPORT_GOLD_MOD',			'YieldType',		'YIELD_GOLD'									),
		('MODIFIER_CSE_TRADE_SEAPORT_GOLD_MOD',			'Amount',			4												),
		('MODIFIER_CSE_TRADE_SEAPORT_GOLD_MOD',			'CityStatesOnly',	1												);

-----------------------------------------------
-- ModifierStrings
-----------------------------------------------

INSERT INTO ModifierStrings 
		(ModifierId, 								Context, 	Text											)
VALUES	('MODIFIER_CSE_TRADE_CAPITAL_GOLD', 		'Preview', 	'LOC_CSE_TRADE_TRAIT_SMALL_INFLUENCE_BONUS'		),
		('MODIFIER_CSE_TRADE_MARKET_GOLD', 			'Preview', 	'LOC_CSE_TRADE_TRAIT_MEDIUM_INFLUENCE_BONUS'	),
		('MODIFIER_CSE_TRADE_BANK_GOLD',	 		'Preview', 	'LOC_CSE_TRADE_TRAIT_LARGE_INFLUENCE_BONUS'		),
		('MODIFIER_CSE_TRADE_STOCK_EXCHANGE_GOLD',	'Preview', 	'LOC_CSE_TRADE_TRAIT_LARGEST_INFLUENCE_BONUS'	),
		('MODIFIER_CSE_TRADE_LIGHTHOUSE_GOLD', 		'Preview', 	'LOC_CSE_TRADE_TRAIT_MEDIUM_INFLUENCE_BONUS'	),
		('MODIFIER_CSE_TRADE_SHIPYARD_GOLD',	 	'Preview', 	'LOC_CSE_TRADE_TRAIT_LARGE_INFLUENCE_BONUS'		),
		('MODIFIER_CSE_TRADE_SEAPORT_GOLD',	 		'Preview', 	'LOC_CSE_TRADE_TRAIT_LARGEST_INFLUENCE_BONUS'	);